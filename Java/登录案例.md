# 登录案例

*综合JDBC与Servlet，非常简单*

***

* 具体的效果就是输入用户名与密码，判断登录成功与否
* `username=admin&&password=123`![image-20191025112952081](image-20191025112952081.png)
* `username=admin&&password=12321`![image-20191025113040720](image-20191025113040720.png)

## 分析

*需要关心的是网页端输入的数据如何走向的*

从网页输入后，都做了些什么？跳转至相应的Servlet

```java
@WebServlet(urlPatterns = "/loginServlet")
public class LoginServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setCharacterEncoding("utf-8");
        String username = req.getParameter("username");
        String password = req.getParameter("password");
        User user = new User();
        user.setUsername(username);
        user.setPassword(password);
        UserDao ud = new UserDao();
        System.out.println(user);
        User result = ud.login(user);
        System.out.println(result);
        if(result == null){
            req.getRequestDispatcher("/failServlet").forward(req, resp);
        }else {
            req.setAttribute("user", user);
            req.getRequestDispatcher("/successServlet").forward(req, resp);
        }
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}
```

